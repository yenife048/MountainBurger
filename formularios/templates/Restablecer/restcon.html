{% extends 'core/base.html' %}

{% load static %}
<title>{% block title %}Mountain Burger{% endblock %}</title>

{% block content %}
<link rel="stylesheet" type="text/css" href="{% static 'core/css/recuperar.css' %}">

<div id="formulario">
    <h2>RESTABLECER CONTRASEÑA</h2>
    <form action="#" method="POST" onsubmit="return validarFormulario()">
        {% csrf_token %} 

        <label for="password1"></label>
        <input type="password" id="password1" placeholder="Nueva Contraseña" name="password1" required>
        <br>

        <label for="password2"></label>
        <input type="password" id="password2" placeholder="Confirmar Contraseña" name="password2" required>
        <span id="error-msg" style="color: red;"></span>
        <br>

        <input class="btn btn-outline-warning" type="submit" value="Siguiente">
    </form>
</div>

<script>
    function validarFormulario() {
        var password1 = document.getElementById("password1").value;
        var password2 = document.getElementById("password2").value;

        if (password1 !== password2) {
            document.getElementById("error-msg").innerHTML = "Las contraseñas no coinciden.";
            return false;
        }

        if (password1.length < 7 || !/[A-Z]/.test(password1) || !/[a-z]/.test(password1) || !/[0-9]/.test(password1)) {
            document.getElementById("error-msg").innerHTML = "La contraseña debe tener al menos 7 caracteres, incluyendo mayúsculas, minúsculas y números.";
            return false;
        }

        return true;
    }
</script>

{% endblock %}
